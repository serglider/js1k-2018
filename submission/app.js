w=a.width;h=a.height;k=document;o={x:w/2,y:h/2};p=Math.PI;e=k.createElement("input");e.style="position:fixed;top:0;width:99%";b.appendChild(e);var q;e.onchange=()=>{cancelAnimationFrame(q);var d=e.value.split("&"),m=d[0],f=d[1]&&d[1].split(",")||[];m=m.split(",").map((d,l)=>[Math.abs(+d.trim()||50),f[l]?(+f[l].trim()||1)*p/180:.01]);j=m.reduce((d,l,f)=>{z=f?d[f-1].e:o;d.push(new r(l[0],l[1]));return d},[]);t=new u;v()};
function v(){c.clearRect(0,0,w,h);j.forEach(d=>d.c());t.b();c.drawImage(t.a,0,0);j.forEach(d=>d.d());q=requestAnimationFrame(v)}function r(d,m){var f=z,n=this,l=0;this.e={};this.d=function(){c.beginPath();c.moveTo(f.x,f.y);c.lineTo(n.e.x,n.e.y);c.lineWidth=4;c.stroke()};this.c=function(){l+=m;n.e.x=f.x+Math.cos(l)*d;n.e.y=f.y+Math.sin(l)*d}}
function u(){this.a=k.createElement("canvas");this.a.width=w;this.a.height=h;g=this.a.getContext("2d");g.fillStyle="red";this.b=()=>{var d=j[j.length-1].e;g.beginPath();g.arc(d.x,d.y,3,0,2*p,!1);g.fill()}};
